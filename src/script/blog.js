// create more box
const imagePaths = [
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "newBlog",
    title: "طراحی نمای شیشه ای ساختمان در انواع مدل ها",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "newBlog",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "memaari",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "memaari",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "memaari",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "ejrayi",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "hoghooghi",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "hoghooghi",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "structure ",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "structure ",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "structure ",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",

    path: "/src/assets/images/IMAGE14 (2).png",
    category: "other",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "news",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "news",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
  {
    path: "/src/assets/images/IMAGE14 (2).png",
    category: "news",
    title: "مهمترین اصول طراحی دفتر کار شیشه ای",
    date: "۲۵ اردیبهشت,۱۴۰۲",
    description:
      "اگر از محل کار تاریک و دلگیر خود خسته شده‌اید، با یادگیری اصول طراحی دفتر کار شیشه ای، می‌توانید شرکت و یا اداره‌ای دلباز و ",
  },
];
const containerBox = document.getElementById("image-container");
imagePaths.forEach((image) => {
  let boxDiv = document.createElement("div");
  boxDiv.setAttribute("class", "box-blog");
  boxDiv.setAttribute("data-category", image.category); // Assigning category to data attribute

  let img = document.createElement("img");
  img.setAttribute("src", image.path);
  img.setAttribute("alt", "");

  let introDiv = document.createElement("div");
  introDiv.setAttribute("class", "intro-blog");

  let heading = document.createElement("h3");
  heading.textContent = image.title;

  let dateDiv = document.createElement("div");
  dateDiv.setAttribute("class", "dateblog");
  dateDiv.textContent = image.date;

  let descriptionDiv = document.createElement("div");
  descriptionDiv.setAttribute("class", "descriptionblog");
  descriptionDiv.textContent = image.description;

  let showMoreDiv = document.createElement("div");
  showMoreDiv.setAttribute("class", "div5");

  let showMoreButton = document.createElement("div");
  showMoreButton.setAttribute("class", "p-Blog");
  showMoreButton.textContent = "نمایش بیشتر";

  // Add click event listener to navigate to singleDesign.html
  showMoreButton.addEventListener("click", function () {
    window.location.href = "SingleBlog.html"; // Relative path to singleDesign.html page
  });

  // Append elements in the desired order
  introDiv.appendChild(heading);
  introDiv.appendChild(dateDiv);
  introDiv.appendChild(descriptionDiv);
  showMoreDiv.appendChild(showMoreButton);
  introDiv.appendChild(showMoreDiv);

  // Append all elements to boxDiv
  boxDiv.appendChild(img);
  boxDiv.appendChild(introDiv);

  // Append boxDiv to containerBox
  containerBox.appendChild(boxDiv);
});
let currentPage = 1;
const itemsPerPage = 12;
const totalItems = document.querySelectorAll(".box-blog").length;

const totalPages = Math.ceil(totalItems / itemsPerPage);

const paginateElement = document.getElementsByClassName("paginate")[0];
console.log(paginateElement);
const paginationContainer = document.createElement("div");
paginationContainer.className = "pagination";

const prevButton = document.createElement("button");
prevButton.id = "prevPage";
prevButton.innerHTML = '<i class="fa fa-arrow-left"></i> قبلی';
prevButton.onclick = goToPreviousPage;

const nextButton = document.createElement("button");
nextButton.id = "nextPage";
nextButton.innerHTML = 'بعدی <i class="fa fa-arrow-right"></i>';
nextButton.onclick = goToNextPage;

paginationContainer.appendChild(prevButton);

for (let i = 1; i <= totalPages; i++) {
  const pageButton = document.createElement("button");
  pageButton.className = "page";
  pageButton.innerText = i;
  pageButton.onclick = () => goToPage(i);
  paginationContainer.appendChild(pageButton);
}

paginationContainer.appendChild(nextButton);

paginateElement.appendChild(paginationContainer);

function goToPage(page) {
  currentPage = page;
  updateDisplay();
  // Remove "active" class from all page buttons
  const pageButtons = document.querySelectorAll(".page");
  pageButtons.forEach((button) => button.classList.remove("active"));

  // Add "active" class to the button corresponding to the current page
  const currentPageButton = document.querySelector(
    `.page:nth-child(${currentPage + 1})`
  );
  currentPageButton.classList.add("active");
}

function goToPreviousPage() {
  if (currentPage > 1) {
    currentPage--;
    updateDisplay();
  }
}

function goToNextPage() {
  if (currentPage < totalPages) {
    currentPage++;
    updateDisplay();
  }
}

function updateDisplay() {
  const startIndex = (currentPage - 1) * itemsPerPage;
  const endIndex = Math.min(startIndex + itemsPerPage, totalItems);

  const items = document.querySelectorAll(".box-blog");
  items.forEach((item, index) => {
    if (index >= startIndex && index < endIndex) {
      item.style.display = "block";
    } else {
      item.style.display = "none";
    }
  });
}

//فیلتر کردن عکس ها
function filterImages() {
  const checkboxes = document.querySelectorAll(".checkbox-custom");
  const selectedCategories = Array.from(checkboxes)
    .filter((checkbox) => checkbox.checked)
    //شی مپ جفت‌های کلید-مقدار را نگهداری می‌کنه
    //[key, value]
    .map((checkbox) => checkbox.id);

  const boxes = document.querySelectorAll(".box-blog");
  let x = 0;
  boxes.forEach((box) => {
    const category = box.dataset.category;
    if (selectedCategories.includes(category)) {
      box.style.display = "block";
    } else {
      box.style.display = "none";
    }
    if (selectedCategories.length === 0) {
      if (x < 12) {
        box.style.display = "block";
        x++;
      }
    }
  });
}

// services navbar
document.addEventListener("DOMContentLoaded", function () {
  var dropdown = document.getElementById("dropdown");
  var dropdownContent = document.getElementById("dropdownContent");
  var dropbtn = document.getElementById("dropbtn");
  var droptext = document.getElementById("text-services");

  dropbtn.addEventListener("click", function () {
    dropdownContent.classList.toggle("show");
    dropbtn.classList.toggle("fa-angle-down");
    dropbtn.classList.toggle("clicked");
    droptext.classList.toggle("change-color-text");
  });

  // Close the dropdown when clicking outside of it
  window.addEventListener("click", function (event) {
    if (!dropdown.contains(event.target) && !dropbtn.contains(event.target)) {
      dropdownContent.classList.remove("show");
    }
  });
});
